// For hydration purposes (Next JS)
// export const network_v1 = create_network(WEIGHTS, BIAS);

import {
  ClassificationType,
  create_network,
  NetworkType,
  relu_activation,
  sigmoid_activation,
  softmax_activation,
} from "./network";

// * --------- NETWORK V1 ---------
// Weights of V1 network
const WEIGHTS_V1 = [
  [
    [0.34660286, -0.01123584],
    [-0.16000803, 0.37327516],
    [-0.20330293, -0.285043],
    [0.03866423, 0.00664284],
  ], // First Layer
  [[-0.819887, -0.60944384, -0.60550654, 0.81135994]], // Output Layer
];

// Bias of V1 Network
const BIAS_V1 = [[-1.3854994, -1.2200477, -0.6707291, 2.2454503], [1.962239]];
// The thresholds of each layer that cause neuron to glow (not including input)
export const ACTIVATION_THRESHOLDS_V1 = [0, 0.5];
// Activation function of each layer
export const ACTIVATIONS_V1 = [relu_activation, sigmoid_activation];

// Compiled network
const NETWORK_V1 = [
  [
    {
      id: "NEURON_75921",
      weights: [0.34660286, -0.01123584],
      bias: -1.3854994,
    },
    {
      id: "NEURON_79786",
      weights: [-0.16000803, 0.37327516],
      bias: -1.2200477,
    },
    {
      id: "NEURON_96141",
      weights: [-0.20330293, -0.285043],
      bias: -0.6707291,
    },
    {
      id: "NEURON_65776",
      weights: [0.03866423, 0.00664284],
      bias: 2.2454503,
    },
  ],
  [
    {
      id: "NEURON_82556",
      weights: [-0.819887, -0.60944384, -0.60550654, 0.81135994],
      bias: 1.962239,
    },
  ],
];

// * --------- NETWORK V2 ---------
const WEIGHTS_V2 = [
  [
    [-0.34477118, -1.6760575],
    [0.31985378, 0.05698782],
    [0.9938797, 0.37092927],
    [0.5316709, 0.05891604],
    [-0.3936875, 0.2678236],
    [-0.6676354, -0.23336759],
  ],
  [
    [1.7718524, 0.1253783, 0.05593611, 0.8161352, -0.5778513, -0.32674235],
    [-0.387093, 0.11015438, -0.6425315, 0.01890373, -0.12255807, -0.67158157],
    [0.12292493, -2.2577233, 0.04268863, -0.23945038, 0.824801, 0.16089681],
    [
      -0.5992771, -0.34958652, -0.35315248, -0.5255966, -0.03629249,
      -0.34147778,
    ],
    [-0.53602463, -0.5711668, 0.7213426, -1.7292765, -0.11530387, -1.7924851],
    [0.52787155, 0.15420282, -0.06676751, 0.09076008, 1.7018548, 0.17385295],
  ],
  [[0.566249, 0.51702875, -0.6228413, -0.10376287, -1.122004, -0.55353564]],
];

const BIAS_V2 = [
  [1.2334526, -1.3812139, -0.24565703, -3.3825176, -3.5829697, -0.02190185],
  [-1.1887258, -0.41817272, -1.3184562, -0.20588127, 0.25860855, -2.6970034],
  [1.1585021],
];

const NETWORK_V2 = [
  [
    {
      id: "NEURON_11136",
      weights: [-0.34477118, -1.6760575],
      bias: 1.2334526,
    },
    {
      id: "NEURON_35617",
      weights: [0.31985378, 0.05698782],
      bias: -1.3812139,
    },
    {
      id: "NEURON_52199",
      weights: [0.9938797, 0.37092927],
      bias: -0.24565703,
    },
    {
      id: "NEURON_68952",
      weights: [0.5316709, 0.05891604],
      bias: -3.3825176,
    },
    {
      id: "NEURON_03907",
      weights: [-0.3936875, 0.2678236],
      bias: -3.5829697,
    },
    {
      id: "NEURON_71160",
      weights: [-0.6676354, -0.23336759],
      bias: -0.02190185,
    },
  ],
  [
    {
      id: "NEURON_61495",
      weights: [
        1.7718524, 0.1253783, 0.05593611, 0.8161352, -0.5778513, -0.32674235,
      ],
      bias: -1.1887258,
    },
    {
      id: "NEURON_75033",
      weights: [
        -0.387093, 0.11015438, -0.6425315, 0.01890373, -0.12255807, -0.67158157,
      ],
      bias: -0.41817272,
    },
    {
      id: "NEURON_47197",
      weights: [
        0.12292493, -2.2577233, 0.04268863, -0.23945038, 0.824801, 0.16089681,
      ],
      bias: -1.3184562,
    },
    {
      id: "NEURON_67004",
      weights: [
        -0.5992771, -0.34958652, -0.35315248, -0.5255966, -0.03629249,
        -0.34147778,
      ],
      bias: -0.20588127,
    },
    {
      id: "NEURON_22291",
      weights: [
        -0.53602463, -0.5711668, 0.7213426, -1.7292765, -0.11530387, -1.7924851,
      ],
      bias: 0.25860855,
    },
    {
      id: "NEURON_42131",
      weights: [
        0.52787155, 0.15420282, -0.06676751, 0.09076008, 1.7018548, 0.17385295,
      ],
      bias: -2.6970034,
    },
  ],
  [
    {
      id: "NEURON_38332",
      weights: [
        0.566249, 0.51702875, -0.6228413, -0.10376287, -1.122004, -0.55353564,
      ],
      bias: 1.1585021,
    },
  ],
];

// ---------------- NETWORk V3 ---------------
const WEIGHTS_V3 = [
  [
    [-0.5324926376342773, -0.29907533526420593],
    [-0.7304787039756775, -0.7349548935890198],
    [-0.19057944416999817, 0.6576992273330688],
    [0.7561840415000916, -0.23459865152835846],
    [-0.0315120592713356, 0.09727984666824341],
    [0.7216871976852417, 0.6902466416358948],
  ],
  [
    [
      -0.3610752522945404, 0.8125820755958557, -0.001195224467664957,
      -0.05774438753724098, 0.3710850477218628, -3.180962085723877,
    ],
    [
      0.1668349951505661, 0.452275812625885, 0.15249839425086975,
      0.5151237845420837, -0.7802107930183411, -0.12064271420240402,
    ],
    [
      0.6722677946090698, -0.43293437361717224, 0.20755833387374878,
      0.6839873194694519, -0.30257752537727356, 0.07432575523853302,
    ],
    [
      -0.6294812560081482, -0.303091824054718, 0.2578834295272827,
      0.0066947718150913715, -0.542716383934021, 0.9371834993362427,
    ],
    [
      0.4042842984199524, -0.3901467025279999, -1.5084220170974731,
      0.5652968883514404, 0.8680306077003479, -0.6993414759635925,
    ],
    [
      -0.13709603250026703, -0.4469386637210846, -0.14095459878444672,
      0.5516986846923828, 0.026941873133182526, 0.6507626175880432,
    ],
    [
      0.030041947960853577, -0.06400871276855469, 0.5501330494880676,
      -0.5280497670173645, 0.13784568011760712, 0.3633773922920227,
    ],
    [
      0.13917189836502075, -0.09907057881355286, -1.1791188716888428,
      0.6115815043449402, -0.1257452815771103, 0.28531205654144287,
    ],
  ],
  [
    [
      0.3943626880645752, 0.7286345362663269, 0.15075565874576569,
      -0.6228792071342468, 1.626854658126831, 0.6073384881019592,
      -0.01686279848217964, -0.24761465191841125,
    ],
    [
      0.0928196981549263, 0.3560091555118561, -0.5269024968147278,
      0.6296191811561584, 0.20593887567520142, -0.6647340655326843,
      0.3685893416404724, 1.2788645029067993,
    ],
    [
      -1.3074438571929932, 0.29227086901664734, -0.20799235999584198,
      -1.6280311346054077, 0.9070345759391785, -0.03995760530233383,
      0.2281820923089981, 0.44812899827957153,
    ],
    [
      -0.714678168296814, -0.44059914350509644, -0.4126870930194855,
      -0.4688993990421295, 0.21437454223632812, -0.4142325818538666,
      -0.10313690453767776, -0.35133835673332214,
    ],
  ],
  [
    [
      0.49380406737327576, 0.30138105154037476, 0.8497355580329895,
      0.17598935961723328,
    ],
    [
      0.5417230725288391, 1.002265453338623, -0.19498759508132935,
      -0.22209909558296204,
    ],
    [
      0.6868888735771179, 0.8658484816551208, -1.1983275413513184,
      0.21791952848434448,
    ],
    [
      -1.7504398822784424, 0.530386745929718, -1.7322925329208374,
      -0.156508207321167,
    ],
  ],
  [
    [
      0.4318792223930359, 0.23323090374469757, -1.2973649501800537,
      -3.3018250465393066,
    ],
    [
      -0.5199006199836731, -1.24300217628479, -1.2370699644088745,
      1.5943868160247803,
    ],
    [
      -0.9033937454223633, 0.7900865077972412, 0.6025182008743286,
      0.24536322057247162,
    ],
  ],
];

const BIAS_V3 = [
  [
    -1.0458276271820068, -0.05338984727859497, 1.9784071445465088,
    0.002738594077527523, 1.867319107055664, -0.2467537671327591,
  ],
  [
    0.4289727210998535, -2.3215765953063965, -0.9846894145011902,
    0.17616547644138336, 0.44055885076522827, 0.24573835730552673,
    0.1263357251882553, -1.2629506587982178,
  ],
  [
    -1.5963979959487915, -0.6022589802742004, -1.7257966995239258,
    -0.30573442578315735,
  ],
  [
    2.2868971824645996, -0.46975868940353394, -2.9407854080200195,
    2.441746234893799,
  ],
  [1.476133108139038, 0.42703884840011597, -1.7692339420318604],
];

const NETWORK_V3 = [
  [
    {
      id: "NEURON_61994",
      weights: [-0.5324926376342773, -0.29907533526420593],
      bias: -1.0458276271820068,
    },
    {
      id: "NEURON_39560",
      weights: [-0.7304787039756775, -0.7349548935890198],
      bias: -0.05338984727859497,
    },
    {
      id: "NEURON_94932",
      weights: [-0.19057944416999817, 0.6576992273330688],
      bias: 1.9784071445465088,
    },
    {
      id: "NEURON_73823",
      weights: [0.7561840415000916, -0.23459865152835846],
      bias: 0.002738594077527523,
    },
    {
      id: "NEURON_58804",
      weights: [-0.0315120592713356, 0.09727984666824341],
      bias: 1.867319107055664,
    },
    {
      id: "NEURON_92644",
      weights: [0.7216871976852417, 0.6902466416358948],
      bias: -0.2467537671327591,
    },
  ],
  [
    {
      id: "NEURON_34345",
      weights: [
        -0.3610752522945404, 0.8125820755958557, -0.001195224467664957,
        -0.05774438753724098, 0.3710850477218628, -3.180962085723877,
      ],
      bias: 0.4289727210998535,
    },
    {
      id: "NEURON_49208",
      weights: [
        0.1668349951505661, 0.452275812625885, 0.15249839425086975,
        0.5151237845420837, -0.7802107930183411, -0.12064271420240402,
      ],
      bias: -2.3215765953063965,
    },
    {
      id: "NEURON_38397",
      weights: [
        0.6722677946090698, -0.43293437361717224, 0.20755833387374878,
        0.6839873194694519, -0.30257752537727356, 0.07432575523853302,
      ],
      bias: -0.9846894145011902,
    },
    {
      id: "NEURON_52637",
      weights: [
        -0.6294812560081482, -0.303091824054718, 0.2578834295272827,
        0.0066947718150913715, -0.542716383934021, 0.9371834993362427,
      ],
      bias: 0.17616547644138336,
    },
    {
      id: "NEURON_18446",
      weights: [
        0.4042842984199524, -0.3901467025279999, -1.5084220170974731,
        0.5652968883514404, 0.8680306077003479, -0.6993414759635925,
      ],
      bias: 0.44055885076522827,
    },
    {
      id: "NEURON_72529",
      weights: [
        -0.13709603250026703, -0.4469386637210846, -0.14095459878444672,
        0.5516986846923828, 0.026941873133182526, 0.6507626175880432,
      ],
      bias: 0.24573835730552673,
    },
    {
      id: "NEURON_36645",
      weights: [
        0.030041947960853577, -0.06400871276855469, 0.5501330494880676,
        -0.5280497670173645, 0.13784568011760712, 0.3633773922920227,
      ],
      bias: 0.1263357251882553,
    },
    {
      id: "NEURON_18500",
      weights: [
        0.13917189836502075, -0.09907057881355286, -1.1791188716888428,
        0.6115815043449402, -0.1257452815771103, 0.28531205654144287,
      ],
      bias: -1.2629506587982178,
    },
  ],
  [
    {
      id: "NEURON_20512",
      weights: [
        0.3943626880645752, 0.7286345362663269, 0.15075565874576569,
        -0.6228792071342468, 1.626854658126831, 0.6073384881019592,
        -0.01686279848217964, -0.24761465191841125,
      ],
      bias: -1.5963979959487915,
    },
    {
      id: "NEURON_18675",
      weights: [
        0.0928196981549263, 0.3560091555118561, -0.5269024968147278,
        0.6296191811561584, 0.20593887567520142, -0.6647340655326843,
        0.3685893416404724, 1.2788645029067993,
      ],
      bias: -0.6022589802742004,
    },
    {
      id: "NEURON_56902",
      weights: [
        -1.3074438571929932, 0.29227086901664734, -0.20799235999584198,
        -1.6280311346054077, 0.9070345759391785, -0.03995760530233383,
        0.2281820923089981, 0.44812899827957153,
      ],
      bias: -1.7257966995239258,
    },
    {
      id: "NEURON_76179",
      weights: [
        -0.714678168296814, -0.44059914350509644, -0.4126870930194855,
        -0.4688993990421295, 0.21437454223632812, -0.4142325818538666,
        -0.10313690453767776, -0.35133835673332214,
      ],
      bias: -0.30573442578315735,
    },
  ],
  [
    {
      id: "NEURON_08539",
      weights: [
        0.49380406737327576, 0.30138105154037476, 0.8497355580329895,
        0.17598935961723328,
      ],
      bias: 2.2868971824645996,
    },
    {
      id: "NEURON_47368",
      weights: [
        0.5417230725288391, 1.002265453338623, -0.19498759508132935,
        -0.22209909558296204,
      ],
      bias: -0.46975868940353394,
    },
    {
      id: "NEURON_56888",
      weights: [
        0.6868888735771179, 0.8658484816551208, -1.1983275413513184,
        0.21791952848434448,
      ],
      bias: -2.9407854080200195,
    },
    {
      id: "NEURON_18692",
      weights: [
        -1.7504398822784424, 0.530386745929718, -1.7322925329208374,
        -0.156508207321167,
      ],
      bias: 2.441746234893799,
    },
  ],
  [
    {
      id: "NEURON_48446",
      weights: [
        0.4318792223930359, 0.23323090374469757, -1.2973649501800537,
        -3.3018250465393066,
      ],
      bias: 1.476133108139038,
    },
    {
      id: "NEURON_36365",
      weights: [
        -0.5199006199836731, -1.24300217628479, -1.2370699644088745,
        1.5943868160247803,
      ],
      bias: 0.42703884840011597,
    },
    {
      id: "NEURON_07340",
      weights: [
        -0.9033937454223633, 0.7900865077972412, 0.6025182008743286,
        0.24536322057247162,
      ],
      bias: -1.7692339420318604,
    },
  ],
];

// const network = create_network(WEIGHTS_V3, BIAS_V3);
// console.log(network);

export enum MODEL_VERSIONS {
  v1,
  v2,
  v3
}

export type ModelType = {
  network: NetworkType;
  activation_thresholds: number[];
  activation_functions: Function[];
  classificationType: ClassificationType;
};

export const MODELS: { [key in MODEL_VERSIONS]: ModelType } = {
  [MODEL_VERSIONS.v1]: {
    network: NETWORK_V1,
    classificationType: "binary",
    activation_thresholds: ACTIVATION_THRESHOLDS_V1,
    activation_functions: ACTIVATIONS_V1,
  },
  [MODEL_VERSIONS.v2]: {
    network: NETWORK_V2,
    classificationType: "binary",
    activation_thresholds: [0, 0, 0.5],
    activation_functions: [
      relu_activation,
      relu_activation,
      sigmoid_activation,
    ],
  },
  [MODEL_VERSIONS.v3]: {
    network: NETWORK_V3,
    classificationType: "categorical",
    activation_thresholds: [0, 0, 0, 0, 0.5],
    activation_functions: [
      relu_activation,
      relu_activation,
      relu_activation,
      relu_activation,
      softmax_activation // CHANGE THIS
    ]
  }
};

// console.log(create_network(WEIGHTS_V2, BIAS_V2))
